<!DOCTYPE html>

<!--The code contained in the head and some of the body element were obtained from https://github.com/firebase/quickstart-js/blob/master/auth/email.html#L95-L107 -->
<html>
<head>
  <meta charset=utf-8 />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FireFile Login</title>
  <link rel="stylesheet" href="login.css">

  <!-- Import and configure the Firebase SDK -->
 
<script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-messaging.js"></script>
  <!-- These scripts are made available when the app is served or deployed on Firebase Hosting -->
  
  <script src="/__/firebase/4.0.0/firebase-app.js"></script>
  <script src="/__/firebase/4.0.0/firebase-auth.js"></script>
  <script src="/__/firebase/init.js"></script>
  <script src="https://cdn.firebase.com/js/client/2.4.2/firebase.js">
    var Firebase = require("firebase");
  </script>

  
</head>
<body>
  <div>
    <header>
      <div>
        <img id="logo" src="Images/templogo.jpg" hight="200" width="600">
      </div>
  </header>
      <div>
        <div>
          <h2>FireFile Password Reset</h2>
        </div>
        <div>
          <p>Enter an email below to reset your password</p>

          <input type="text" id="email" name="email" placeholder="Email"/>
          &nbsp;&nbsp;&nbsp;
          
          <button  onclick="sendPasswordReset();">Send Password Reset Link</button> 
          <br><br><br>
         
          <button onclick="window.open('index.html')">Back to Sign In</button>

        </div>
      </div>
</div>

<script>
    
    // This password reset function was obtained from https://firebase.google.com/docs/auth/web/manage-users
    function sendPasswordReset() {
      var auth = firebase.auth();
      var myemail = document.getElementById('email').value;
      var emailAddress = myemail;
      auth.sendPasswordResetEmail(emailAddress).then(function(){
        console.log("Email sent");
        alert("Success: Password Reset Link Sent");
      }).catch(function(error)
      {
        console.log("Error");
        alert("Error: The Email Address Entered Does Not Exist!");
      });
    }
    
  </script>
</body>
</html>